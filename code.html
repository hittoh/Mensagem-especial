<!doctype html>
<html lang="pt-BR">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
<title>Mensagem Especial — com glitter</title>
<style>
  :root{
    --bg1: #ffe9f4;
    --bg2: #fff0ff;
    --accent: #ff7fbf;
    --soft: #ffd6ea;
    --card-radius: 22px;
    --card-padding: 26px;
  }

  html,body{
    height:100%;
    margin:0;
    font-family: "Inter", "Segoe UI", system-ui, -apple-system, Roboto, "Helvetica Neue", Arial;
    -webkit-font-smoothing:antialiased;
    -moz-osx-font-smoothing:grayscale;
    background: radial-gradient(1200px 600px at 10% 10%, rgba(255,230,245,0.7), transparent 10%),
                linear-gradient(135deg,var(--bg1),var(--bg2));
    display:flex;
    align-items:center;
    justify-content:center;
    padding:20px;
    box-sizing:border-box;
    overflow:hidden;
  }

  /* Container card */
  .card{
    width:100%;
    max-width:720px;
    background:linear-gradient(180deg, rgba(255,255,255,0.98), #fff);
    border-radius:var(--card-radius);
    padding:var(--card-padding);
    box-shadow: 0 10px 30px rgba(0,0,0,0.12);
    border: 2px solid rgba(255,182,217,0.35);
    position:relative;
    overflow:visible;
  }

  /* Heart badge top */
  .heart-badge{
    position:absolute;
    top:-34px;
    left:50%;
    transform:translateX(-50%);
    background:linear-gradient(180deg,#fff,#fff0);
    padding:10px 20px;
    border-radius:30px;
    box-shadow:0 6px 18px rgba(255,127,191,0.12);
    border:3px solid rgba(255,127,191,0.16);
    font-size:30px;
    color:var(--accent);
    display:flex;
    gap:12px;
    align-items:center;
    z-index:40;
  }

  /* Heart SVG with pulse */
  .heart{
    width:64px;
    height:64px;
    display:inline-block;
    transform-origin:center;
    animation: pulse 2000ms infinite ease-in-out;
    filter: drop-shadow(0 6px 18px rgba(255,127,191,0.18));
  }

  @keyframes pulse{
    0%{ transform:scale(0.96) }
    50%{ transform:scale(1.08) }
    100%{ transform:scale(0.96) }
  }

  /* Card content */
  .content{
    text-align:left;
    font-size:16px;
    color:#333;
    line-height:1.6;
    position:relative;
    z-index:20;
  }

  h1{
    margin:0 0 12px 0;
    font-size:18px;
    color:#444;
    text-align:center;
  }

  p{
    margin:0 0 8px 0;
  }

  /* Glitter particles container */
  .glitter-layer{
    pointer-events:none;
    position:absolute;
    inset:0;
    z-index:10;
    overflow:hidden;
  }

  .glitter{
    position:absolute;
    width:6px;
    height:6px;
    border-radius:50%;
    background:linear-gradient(180deg,#fff,#ffd6ea);
    opacity:0.9;
    transform:translateY(-120vh) rotate(0deg);
    animation: fall linear infinite;
    box-shadow: 0 0 8px rgba(255,200,230,0.8);
  }

  /* Each particle will be customized inline with style for left, delay, duration, scale */

  @keyframes fall{
    0% { transform: translateY(-20vh) translateX(0) scale(0.6); opacity:0; }
    10% { opacity:0.9; }
    100% { transform: translateY(120vh) translateX(40px) scale(1); opacity:0; }
  }

  /* Shine effect across card */
  .shine{
    position:absolute;
    inset:0;
    z-index:30;
    overflow:hidden;
    border-radius:calc(var(--card-radius) - 2px);
    pointer-events:none;
  }
  .shine::before{
    content:"";
    position:absolute;
    left:-40%;
    top:0;
    width:30%;
    height:100%;
    transform:skewX(-18deg);
    background: linear-gradient(90deg, rgba(255,255,255,0), rgba(255,255,255,0.65), rgba(255,255,255,0));
    animation: slide 2.6s linear infinite;
    mix-blend-mode: screen;
  }
  @keyframes slide{
    0%{ left:-40%; }
    100%{ left:140%; }
  }

  /* Glitter border around the card (subtle) */
  .card::after{
    content:"";
    position:absolute;
    inset: -6px;
    border-radius: calc(var(--card-radius) + 6px);
    background: radial-gradient(circle at 20% 10%, rgba(255,127,191,0.12), transparent 8%),
                radial-gradient(circle at 80% 90%, rgba(255,200,230,0.08), transparent 6%);
    z-index:5;
    pointer-events:none;
  }

  /* Responsive adjustments for mobile */
  @media (max-width:520px){
    .heart{ width:52px; height:52px; }
    .heart-badge{ top:-30px; font-size:24px; padding:8px 16px; }
    .card{ padding:20px; border-radius:18px; }
    h1{ font-size:16px; }
    .content{ font-size:15px; }
  }

  /* Invisible iframe/audio holder */
  .media-hide{
    position:absolute;
    width:1px;height:1px;left:-9999px;top:auto;overflow:hidden;
  }

  /* CTA for mobile unmute (shows only if autoplay blocked) */
  .unmute-hint{
    position:fixed;
    left:50%;
    bottom:18px;
    transform:translateX(-50%);
    background:linear-gradient(90deg,#fff,#fff0);
    padding:8px 14px;
    border-radius:999px;
    border:1px solid rgba(255,127,191,0.14);
    box-shadow:0 6px 22px rgba(0,0,0,0.09);
    font-size:14px;
    z-index:60;
    display:none;
    gap:8px;
    align-items:center;
  }
  .unmute-hint button{
    background:var(--accent);
    color:white;
    border:none;
    padding:8px 12px;
    border-radius:999px;
    font-weight:600;
    cursor:pointer;
    box-shadow:0 6px 16px rgba(255,127,191,0.18);
  }

</style>
</head>
<body>
  <div class="card" id="card">
    <div class="heart-badge" aria-hidden="true">
      <!-- Heart SVG -->
      <svg class="heart" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
        <defs>
          <linearGradient id="g1" x1="0" x2="1" y1="0" y2="1">
            <stop offset="0" stop-color="#ffb0de"/>
            <stop offset="1" stop-color="#ff6fb3"/>
          </linearGradient>
        </defs>
        <path d="M12 21s-7-4.6-9.2-7.1C0.8 11.5 2.2 6 6.7 6c2.1 0 3.5 1.2 4.3 2.1.8-.9 2.2-2.1 4.3-2.1 4.5 0 5.9 5.5 3.9 7.9C19 16.4 12 21 12 21z" fill="url(#g1)"/>
      </svg>
      <div style="font-weight:700">❤</div>
    </div>

    <div class="glitter-layer" id="glitterLayer" aria-hidden="true"></div>

    <div class="shine" aria-hidden="true"></div>

    <div class="content">
      <h1>Olha, vou ser direto: eu gosto muito de você.</h1>

      <p>Eu me importo com você, mesmo que às vezes eu não consiga demonstrar isso da melhor forma.</p>
      <p>Tenho medo de que as coisas desandem de novo. Queria pedir uma chance pra gente conversar e tentar ajustar o que for necessário.</p>
      <p style="margin-top:14px;font-weight:700;text-align:center">Quero te chamar pra ir ao cinema comigo — você toparia me dar essa oportunidade?</p>

      <!-- Optional YouTube embed or decorative image -->
      <div style="margin-top:18px; text-align:center;">
        <iframe src="https://www.youtube.com/embed/2Vv-BfVoq4g?rel=0&autoplay=1&mute=1&playsinline=1"
                width="100%" height="215" style="border-radius:14px;border:none;box-shadow:0 6px 18px rgba(0,0,0,0.08);"
                allow="autoplay; encrypted-media" title="Música"></iframe>
      </div>
    </div>
  </div>

  <!-- Hidden audio fallback (muted autoplay loop). Place your MP3 URL in src. -->
  <div class="media-hide" aria-hidden="true">
    <audio id="bgAudio" src="" playsinline autoplay loop muted></audio>
  </div>

  <!-- Unmute hint for mobile (shown if autoplay blocked/unmuted failed) -->
  <div class="unmute-hint" id="unmuteHint" role="status" aria-live="polite">
    <span>Toque para ouvir</span>
    <button id="unmuteBtn">Tocar áudio</button>
  </div>

<script>
  /* =========================
     Generate glitter particles
     ========================= */
  (function createGlitter(){
    const layer = document.getElementById('glitterLayer');
    const count = Math.min(80, Math.max(40, Math.floor(window.innerWidth/8)));
    for(let i=0;i<count;i++){
      const el = document.createElement('div');
      el.className = 'glitter';
      const left = Math.random()*100;
      const delay = Math.random()*-20;
      const duration = 6 + Math.random()*10;
      const size = 3 + Math.random()*8;
      el.style.left = left + '%';
      el.style.width = size + 'px';
      el.style.height = size + 'px';
      el.style.borderRadius = (size/2) + 'px';
      el.style.opacity = (0.6 + Math.random()*0.8);
      el.style.transform = `translateY(-20vh)`;
      el.style.animationDuration = duration + 's';
      el.style.animationDelay = delay + 's';
      el.style.background = `radial-gradient(circle at 30% 30%, #fff, rgba(255,230,245,0.95) 10%, rgba(255,150,200,0.2) 60%)`;
      layer.appendChild(el);
    }
  })();

  /* =========================
     Attempt autoplay / unmute
     ========================= */
  (function autoplayAudio(){
    const audio = document.getElementById('bgAudio');
    const unmuteHint = document.getElementById('unmuteHint');
    const unmuteBtn = document.getElementById('unmuteBtn');

    // If you have an MP3 URL, set it here (optional). YouTube iframe is muted autoplay; use this for MP3 fallback.
    // Example: audio.src = 'https://example.com/sua-musica.mp3';
    // Leave blank to rely on the YouTube embed above.
    // audio.src = '';

    function showHint(){
      unmuteHint.style.display = 'flex';
    }

    // Try to play (muted) immediately
    function tryPlay(){
      if(!audio.src) return; // nothing to play
      const p = audio.play();
      if(p !== undefined){
        p.then(()=> {
          // playing (muted likely)
          // Try to unmute after a small delay — may be blocked by browser policy.
          setTimeout(()=> {
            audio.muted = false;
            const p2 = audio.play();
            if(p2 && typeof p2.then === 'function'){
              p2.catch(()=> {
                audio.muted = true;
                showHint();
              });
            }
          }, 1000);
        }).catch(()=> {
          // autoplay failed
          audio.muted = true;
          showHint();
        });
      }
    }

    // If audio element has no src, we still try to unmute the YouTube iframe by focus trick (best-effort)
    tryPlay();

    // User explicit button to unmute
    unmuteBtn.addEventListener('click', ()=> {
      if(audio.src){
        audio.muted = false;
        audio.play().catch(()=>{ audio.muted = true; });
      }
      // attempt to unmute any iframes (can't reliably unmute YouTube)
      unmuteHint.style.display = 'none';
    });

    // If user interacts anywhere, hide hint and try to unmute
    document.addEventListener('click', ()=> {
      unmuteHint.style.display = 'none';
      if(audio.src){
        audio.muted = false;
        audio.play().catch(()=>{ audio.muted = true; });
      }
    }, {once:true});
  })();

  /* =========================
     Extra: click-to-toggle heart sparkle
     ========================= */
  (function heartSparkle(){
    const card = document.getElementById('card');
    card.addEventListener('click', ()=> {
      // subtle scale for click
      card.style.transition = 'transform 220ms ease';
      card.style.transform = 'scale(0.995)';
      setTimeout(()=> card.style.transform = '', 220);
    });
  })();

  /* Accessibility: reduce motion respect */
  (function respectPrefersReduceMotion(){
    if(window.matchMedia && window.matchMedia('(prefers-reduced-motion: reduce)').matches){
      document.querySelectorAll('.glitter').forEach(el=>{ el.style.animationDuration = '0.001s'; el.style.opacity = 0; });
      document.querySelectorAll('.heart').forEach(h => { h.style.animation = 'none'; });
      document.querySelectorAll('.shine::before');
